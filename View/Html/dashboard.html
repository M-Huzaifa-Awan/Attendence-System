<!DOCTYPE html>
<html>

<head>
    <title>Dashboard</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <style>
        .btn-sm {
            padding: .25rem .5rem;
            font-size: .875rem;
        }

        .date-container {
            margin-right: 10px;
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="../../Controller/dashboardController.js"></script>

</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Attendance System</a>

        <div class="dropdown mr-3">
            <select class="btn btn-secondary" id="sessionDropdown">
                <option value="" selected disabled>Select Session</option>
                <option value="Morning">Morning</option>
                <option value="Evening">Evening</option>
            </select>
        </div>

        <div class="dropdown mr-3">
            <select class="btn btn-secondary" id="semesterDropdown">
                <option value="" selected disabled>Select Semester</option>
                <option value="1">Semester 1</option>
                <option value="2">Semester 2</option>
                <option value="3">Semester 3</option>
                <option value="4">Semester 4</option>
                <option value="5">Semester 5</option>
                <option value="6">Semester 6</option>
                <option value="7">Semester 7</option>
                <option value="8">Semester 8</option>
            </select>
        </div>

        <div class="dropdown mr-3">
            <select class="btn btn-secondary" id="sectionDropdown">
                <option value="" selected disabled>Select Section</option>
                <option value="A">Section A</option>
                <option value="B">Section B</option>
            </select>
        </div>

        <div class="dropdown mr-3">
            <select class="btn btn-secondary" id="subjectDropdown">
                <option value="" selected disabled>Select Subject</option>
                <option value="SE">Software Engineering</option>
                <option value="WP">Web Programming</option>
                <option value="Lab-Web Prog">Lab-Web Programming</option>
                <option value="DM">Digital Marketing</option>
                <option value="AOOP">Advance Object Oriented Programming</option>
                <option value="Lab-AOOP">Lab-Advance Object Oriented Programming</option>
                <option value="DE">Differential Equations</option>
                <option value="DAA">Design & Analysis of Algorithmss</option>
            </select>
        </div>

        <div class="date-container">
            <p class="mb-0">Today's Date: <span id="todayDate"></span></p>
        </div>

        <button class="btn btn-primary" id="submitButton" disabled>Enter</button>

    </nav>
    <script>
        var today = new Date();
        var formattedDate = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();
        $("#todayDate").text(formattedDate);

        $(document).ready(function () {
            $("#sessionDropdown, #semesterDropdown, #sectionDropdown, #subjectDropdown").on('change', function () {
                checkDropdowns();
            });
        });
        function checkDropdowns() {
            var session = $("#sessionDropdown").val();
            var semester = $("#semesterDropdown").val();
            var section = $("#sectionDropdown").val();
            var subject = $("#subjectDropdown").val();

            if (session !== null && semester !== null && section !== null && subject !== null) {
                $("#submitButton").prop('disabled', false);
            } else {
                $("#submitButton").prop('disabled', true);
            }

        }
        $("#submitButton").on('click', function () {
            sendSelectedOptions();
        });

        function sendSelectedOptions() {
            const session   = $("#sessionDropdown").val();
            const semester  = $("#semesterDropdown").val();
            const section   = $("#sectionDropdown").val();
            const subject   = $("#subjectDropdown").val();
            const data      = getDashboardData(session, semester, section, subject);
        }
            

    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>
